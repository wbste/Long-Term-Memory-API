PORT=4000
DATABASE_URL="postgresql://user:password@host:5432/dbname"
NODE_ENV=development

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=60
CORS_ORIGIN=*

# --- Embeddings ---
# Set to true to enable embedding generation for memory storage and retrieval.
ENABLE_EMBEDDINGS=true

# Choose the embedding provider: 'openai' or 'ollama'.
EMBEDDING_PROVIDER=openai

# --- Provider-specific settings ---

# OpenAI: Get your key from https://platform.openai.com/api-keys
OPENAI_API_KEY="your_openai_api_key_here"

# Ollama: The URL of your running Ollama instance.
OLLAMA_URL="http://127.0.0.1:11434"
# The model to use for embeddings with Ollama.
OLLAMA_MODEL="nomic-embed-text"


# --- Advanced Configuration ---

# The maximum character length for a memory text.
MAX_TEXT_LENGTH=4000

# Optional secret key to access admin-only endpoints.
ADMIN_API_KEY="super-secret-admin-key"

# --- Scoring Weights ---
# These control how different factors contribute to a memory's relevance score.
# They must sum to 1.0.
WEIGHT_SIMILARITY=0.6
WEIGHT_RECENCY=0.2
WEIGHT_IMPORTANCE=0.2

# --- Automatic Pruning ---
# Rules for the background job that automatically deletes old or irrelevant memories.
# How many days old a memory must be before it's considered for pruning.
PRUNE_MAX_AGE_DAYS=90
# How many days a memory must be inactive (not accessed) to be considered.
PRUNE_INACTIVE_DAYS=30
# Memories with an importance score below this are candidates for pruning.
PRUNE_IMPORTANCE_THRESHOLD=0.4
